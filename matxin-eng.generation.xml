<transfer>

<rule comment="">

   <template match="//CHUNK[NODE[not(@lem)]]"/>

   <template match="NODE[contains(@pos,'det')][@num]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @num)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>

   <template match="NODE[@pos='n' or @pos='num'][@pos][@num]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @num)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>


   <template match="NODE[@pos='prn|dem' or @pos='prn|itg'][@num]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @num)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>


   <template match="NODE[@pos='prn|tn'][@num]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @num)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>


   <template match="NODE[@pos='prn|pers'][@pos][@pers][@gen][@num][@cas]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @pers, '|', @gen, '|', @num, '|', @cas)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>


   <template match="NODE[@pos='np|ant'][@gen]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @gen, '|', 'sg')" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>

   <template match="NODE[@pos='vaux' or @pos='vbmod'][@tam='pri' or @tam='past']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>


   <template match="NODE[@pos='vblex'][@tam='pri'][@pers='p3'][@num='sg']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam, '|', @pers, '|', @num)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>

   <template match="NODE[@pos='vblex'][@tam='pri'][@pers='p3'][@num='pl']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>


   <template match="NODE[@pos='vbser'][@tam='pri' or @tam='past'][@pers='p3'][@num='sg']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam, '|', @pers, '|', @num)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>

   <template match="NODE[@pos='vbser'][@tam='pri' or @tam='past'][@pers='p3'][@num='pl']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>

   <template match="NODE[@pos='vbser'][@tam='pri'][@pers!='p3']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>

   <template match="NODE[@pos='vblex'][@tam='pri'][@pers!='p3' or not(@pers)]">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', 'pri')" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>
      </copy>
   </template>

   <template match="NODE[@pos='vblex'][@tam='imp']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', 'inf')" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>
      </copy>
   </template>


   <template match="NODE[@pos='vblex'][@tam='past']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @tam)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>
      </copy>
   </template>

   <template match="NODE[@pos='vblex'][@mi='ger' or @mi='inf']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="concat(@pos, '|', @mi)" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>
      </copy>
   </template>

   <template match="NODE[@pos='adj' or @pos='adj|sint']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="@pos" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>
      </copy>
   </template>


   <template match="NODE[@pos='adv' or @pos='adv|itg']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="@pos" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>
      </copy>
   </template>

   <template match="NODE[@pos='ij' or @pos='to' or @pos='pr' or @pos='cnjcoo' or @pos='sent' or @pos='cm' or @pos='gen' or @pos='preadv' or @pos='cnjadv']">
      <copy>
       <copy-of select="@*[name()!='mi']"/>
       <attribute name="mi"><value-of select="@pos" /></attribute>
       <apply-templates select="@*[name()!='mi'] | *"/>

      </copy>
   </template>





</rule>

</transfer>
